export const initialState = {
    timings: {},
    count: {}
};
export default (state = initialState, action) => {
    switch (action.type) {
        case 'COUNT': {
            const times = state.count[action.name] || 0;
            return {
                ...state,
                count: {
                    ...state.count,
                    [action.name]: times + 1
                }
            };
        }
        case 'TIME_START': {
            return {
                ...state,
                timings: {
                    ...state.timings,
                    [action.name]: {
                        start: performance.now() || +new Date()
                    }
                }
            };
        }
        case 'TIME_END': {
            const timing = state.timings[action.name];
            const end = performance.now() || +new Date();
            const { start } = timing;
            const time = end - start;
            return {
                ...state,
                timings: {
                    ...state.timings,
                    [action.name]: {
                        ...timing,
                        end,
                        time
                    }
                }
            };
        }
        default: {
            return state;
        }
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVkdWNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9Ib29rL3N0b3JlL3JlZHVjZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHO0lBQzFCLE9BQU8sRUFBRSxFQUFFO0lBQ1gsS0FBSyxFQUFFLEVBQUU7Q0FDVixDQUFBO0FBRUQsZUFBZSxDQUFDLEtBQUssR0FBRyxZQUFZLEVBQUUsTUFBYyxFQUFFLEVBQUU7SUFDdEQsUUFBUSxNQUFNLENBQUMsSUFBSSxFQUFFO1FBQ25CLEtBQUssT0FBTyxDQUFDLENBQUM7WUFDWixNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7WUFFM0MsT0FBTztnQkFDTCxHQUFHLEtBQUs7Z0JBQ1IsS0FBSyxFQUFFO29CQUNMLEdBQUcsS0FBSyxDQUFDLEtBQUs7b0JBQ2QsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxHQUFHLENBQUM7aUJBQ3pCO2FBQ0YsQ0FBQTtTQUNGO1FBRUQsS0FBSyxZQUFZLENBQUMsQ0FBQztZQUNqQixPQUFPO2dCQUNMLEdBQUcsS0FBSztnQkFDUixPQUFPLEVBQUU7b0JBQ1AsR0FBRyxLQUFLLENBQUMsT0FBTztvQkFDaEIsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7d0JBQ2IsS0FBSyxFQUFFLFdBQVcsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFO3FCQUN4QztpQkFDRjthQUNGLENBQUE7U0FDRjtRQUVELEtBQUssVUFBVSxDQUFDLENBQUM7WUFDZixNQUFNLE1BQU0sR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUV6QyxNQUFNLEdBQUcsR0FBRyxXQUFXLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFBO1lBQzVDLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxNQUFNLENBQUE7WUFFeEIsTUFBTSxJQUFJLEdBQUcsR0FBRyxHQUFHLEtBQUssQ0FBQTtZQUV4QixPQUFPO2dCQUNMLEdBQUcsS0FBSztnQkFDUixPQUFPLEVBQUU7b0JBQ1AsR0FBRyxLQUFLLENBQUMsT0FBTztvQkFDaEIsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEVBQUU7d0JBQ2IsR0FBRyxNQUFNO3dCQUNULEdBQUc7d0JBQ0gsSUFBSTtxQkFDTDtpQkFDRjthQUNGLENBQUE7U0FDRjtRQUVELE9BQU8sQ0FBQyxDQUFDO1lBQ1AsT0FBTyxLQUFLLENBQUE7U0FDYjtLQUNGO0FBQ0gsQ0FBQyxDQUFBIn0=