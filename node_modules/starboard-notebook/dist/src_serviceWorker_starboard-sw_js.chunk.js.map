{"version":3,"sources":["webpack://starboard-notebook/./src/serviceWorker/starboard-sw.js"],"names":[],"mappings":"eAAA,KAAK,iBAAiB,UAAW,UAAY,CAC3C,KAAK,gBAGP,KAAK,iBAAiB,WAAa,GAAU,CAC3C,EAAM,UAAU,KAAK,QAAQ,WAG/B,KAAK,iBAAiB,UAAY,GAAO,C,MACnC,MAAG,OAAH,cAAS,QAAS,0CACpB,KAAK,aACF,aACA,KAAK,UAAY,CAChB,MAAO,MAAK,QAAQ,aAErB,KAAK,SAAU,EAAS,CACvB,EAAQ,QAAS,GAAW,EAAO,SAAS,EAAO,UAK3D,KAAK,iBAAiB,QAAS,SAAU,EAAO,CAC1C,EAAM,QAAQ,QAAU,kBAAoB,EAAM,QAAQ,OAAS,eAIvE,EAAM,YACJ,MAAM,EAAM,SACT,KAAK,SAAU,EAAU,CACxB,GAAI,EAAS,SAAW,EACtB,MAAO,GAOT,KAAM,GAAa,GAAI,SAAQ,EAAS,SACxC,SAAW,IAAI,+BAAgC,gBAC/C,EAAW,IAAI,6BAA8B,eAEtB,GAAI,UAAS,EAAS,KAAM,CACjD,OAAQ,EAAS,OACjB,WAAY,EAAS,WACrB,QAAS,MAKZ,MAAM,SAAU,EAAG,CAClB,QAAQ,MAAM","file":"src_serviceWorker_starboard-sw_js.chunk.js","sourcesContent":["self.addEventListener(\"install\", function () {\r\n  self.skipWaiting();\r\n});\r\n\r\nself.addEventListener(\"activate\", (event) => {\r\n  event.waitUntil(self.clients.claim());\r\n});\r\n\r\nself.addEventListener(\"message\", (ev) => {\r\n  if (ev.data?.type === \"removeCrossOriginIsolatedServiceWorker\") {\r\n    self.registration\r\n      .unregister()\r\n      .then(function () {\r\n        return self.clients.matchAll();\r\n      })\r\n      .then(function (clients) {\r\n        clients.forEach((client) => client.navigate(client.url));\r\n      });\r\n  }\r\n});\r\n\r\nself.addEventListener(\"fetch\", function (event) {\r\n  if (event.request.cache === \"only-if-cached\" && event.request.mode !== \"same-origin\") {\r\n    return;\r\n  }\r\n\r\n  event.respondWith(\r\n    fetch(event.request)\r\n      .then(function (response) {\r\n        if (response.status === 0) {\r\n          return response;\r\n        }\r\n\r\n        // It seems like we only need to set the headers for index.html\r\n        // If you want to be on the safe side, comment this out\r\n        //if (!response.url.includes(\"index.html\")) return response;\r\n\r\n        const newHeaders = new Headers(response.headers);\r\n        newHeaders.set(\"Cross-Origin-Embedder-Policy\", \"require-corp\");\r\n        newHeaders.set(\"Cross-Origin-Opener-Policy\", \"same-origin\");\r\n\r\n        const moddedResponse = new Response(response.body, {\r\n          status: response.status,\r\n          statusText: response.statusText,\r\n          headers: newHeaders,\r\n        });\r\n\r\n        return moddedResponse;\r\n      })\r\n      .catch(function (e) {\r\n        console.error(e);\r\n      })\r\n  );\r\n});\r\n"],"sourceRoot":""}